(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9129:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var l=t(5155),r=t(2115);function a(){let[e,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{fetch("/api/progress/profile",{credentials:"include"}).then(e=>e.json()).then(e=>s(e)).catch(e=>console.error("Failed to fetch user profile:",e))},[]),(0,l.jsxs)("header",{className:"h-16 bg-slate-900 border-b border-blue-500/30 flex items-center justify-between px-6",children:[(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsxs)("div",{className:"text-xl font-bold text-blue-400",children:["SKILL",(0,l.jsx)("span",{className:"text-purple-400",children:"TREE"})]})}),(0,l.jsx)("div",{className:"flex items-center gap-4",children:e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-slate-200",children:e.username}),(0,l.jsx)("div",{className:"text-xs text-slate-400",children:e.role})]}),(0,l.jsx)("div",{className:"relative group",children:e.thumbnailUrl?(0,l.jsx)("img",{src:e.thumbnailUrl,alt:e.username,className:"w-10 h-10 rounded-full border-2 border-blue-500/50 group-hover:border-blue-500 transition-all"}):(0,l.jsx)("div",{className:"w-10 h-10 rounded-full border-2 border-blue-500/50 group-hover:border-blue-500 transition-all bg-slate-800 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-blue-400 font-bold text-lg",children:e.username.charAt(0).toUpperCase()})})}),(0,l.jsx)("button",{onClick:()=>{window.location.href="/api/auth/logout"},className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-red-500/50 rounded text-sm text-slate-300 hover:text-red-400 transition-all",children:"Logout"})]})})]})}function n(e){let{collapsed:s,onToggleCollapse:t,onSelectItem:a,selectedItem:n}=e,[c,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(new Set),[x,m]=(0,r.useState)(new Set),[h,u]=(0,r.useState)(new Set),[p,b]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{fetch("/api/progress/me",{credentials:"include"}).then(e=>e.json()).then(e=>i(e)).catch(e=>console.error("Failed to fetch progress tree:",e))},[]);let g=e=>100===e?"text-green-400":e>=50?"text-yellow-400":"text-blue-400";return s?(0,l.jsx)("aside",{className:"w-16 bg-slate-900 border-r border-blue-500/30 flex flex-col items-center py-4",children:(0,l.jsx)("button",{onClick:t,className:"p-2 text-slate-400 hover:text-blue-400 transition-colors",children:"▶"})}):(0,l.jsxs)("aside",{className:"w-80 bg-slate-900 border-r border-blue-500/30 flex flex-col overflow-hidden",children:[(0,l.jsxs)("div",{className:"h-14 flex items-center justify-between px-4 border-b border-slate-700",children:[(0,l.jsx)("h2",{className:"text-lg font-bold text-blue-400",children:"Skill Tree"}),(0,l.jsx)("button",{onClick:t,className:"p-1 text-slate-400 hover:text-blue-400 transition-colors",children:"◀"})]}),c&&(0,l.jsxs)("div",{className:"px-4 py-3 bg-slate-800/50 border-b border-slate-700",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-sm text-slate-400",children:"Overall Progress"}),(0,l.jsxs)("span",{className:"text-sm font-bold ".concat(g(c.overallProgress)),children:[Math.round(c.overallProgress),"%"]})]}),(0,l.jsx)("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:"".concat(c.overallProgress,"%")}})})]}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto py-2",children:c?0===c.domains.length?(0,l.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,l.jsxs)("div",{className:"text-slate-400 text-center px-4",children:["No domains found.",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-xs",children:"Add domains to get started."})]})}):(0,l.jsx)("div",{children:c.domains.map(e=>(e=>{let s=o.has(e.id),t=(null==n?void 0:n.id)===e.id&&(null==n?void 0:n.type)==="domain",r=e.categories&&e.categories.length>0;return(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-slate-800/70 transition-colors border-l-4 ".concat(t?"bg-blue-500/20 border-blue-500":"border-blue-500/30 hover:border-blue-500/50"),children:[r&&(0,l.jsx)("button",{onClick:s=>{s.stopPropagation();var t=e.id;let l=new Set(o);l.has(t)?l.delete(t):l.add(t),d(l)},className:"text-slate-300 hover:text-blue-400 transition-colors font-bold",children:s?"▼":"▶"}),(0,l.jsxs)("div",{className:"flex items-center gap-3 flex-1",onClick:()=>a({...e,type:"domain"}),children:[(0,l.jsx)("div",{className:"w-6 h-6 rounded-lg border-2 flex items-center justify-center ".concat(e.completed?"border-cyan-500 bg-cyan-500/20":"border-slate-600"),children:e.completed&&(0,l.jsx)("span",{className:"text-cyan-400",children:"✓"})}),(0,l.jsx)("span",{className:"text-lg text-slate-50 flex-1 font-bold",children:e.name}),(0,l.jsxs)("span",{className:"text-sm font-semibold ".concat(g(e.progressPercentage)),children:[Math.round(e.progressPercentage),"%"]})]})]}),s&&r&&(0,l.jsx)("div",{className:"border-l border-slate-700 ml-6",children:e.categories.map(e=>((e,s)=>{let t=x.has(e.id),r=(null==n?void 0:n.id)===e.id&&(null==n?void 0:n.type)==="category",c=e.subcategories&&e.subcategories.length>0;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 py-2 px-2 cursor-pointer hover:bg-slate-800/50 transition-colors ".concat(r?"bg-blue-500/20 border-l-2 border-blue-500":""),style:{paddingLeft:"".concat(12,"px")},children:[c&&(0,l.jsx)("button",{onClick:s=>{s.stopPropagation();var t=e.id;let l=new Set(x);l.has(t)?l.delete(t):l.add(t),m(l)},className:"text-slate-400 hover:text-purple-400 transition-colors",children:t?"▼":"▶"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-1",onClick:()=>a({...e,type:"category"}),children:[(0,l.jsx)("div",{className:"w-5 h-5 rounded border-2 flex items-center justify-center ".concat(e.completed?"border-purple-500 bg-purple-500/20":"border-slate-600"),children:e.completed&&(0,l.jsx)("span",{className:"text-purple-400 text-sm",children:"✓"})}),(0,l.jsx)("span",{className:"text-base text-slate-100 flex-1 font-semibold",children:e.name}),(0,l.jsxs)("span",{className:"text-sm ".concat(g(e.progressPercentage)),children:[Math.round(e.progressPercentage),"%"]})]})]}),t&&c&&(0,l.jsx)("div",{children:e.subcategories.map(e=>((e,s)=>{let t=h.has(e.id),r=(null==n?void 0:n.id)===e.id&&(null==n?void 0:n.type)==="subcategory",c=e.skills&&e.skills.length>0;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 py-1.5 px-2 cursor-pointer hover:bg-slate-800/50 transition-colors ".concat(r?"bg-blue-500/20 border-l-2 border-blue-500":""),style:{paddingLeft:"".concat(12*s,"px")},children:[c&&(0,l.jsx)("button",{onClick:s=>{s.stopPropagation();var t=e.id;let l=new Set(h);l.has(t)?l.delete(t):l.add(t),u(l)},className:"text-slate-400 hover:text-blue-400 transition-colors",children:t?"▼":"▶"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-1",onClick:()=>a({...e,type:"subcategory"}),children:[(0,l.jsx)("div",{className:"w-4 h-4 rounded border-2 flex items-center justify-center ".concat(e.completed?"border-green-500 bg-green-500/20":"border-slate-600"),children:e.completed&&(0,l.jsx)("span",{className:"text-green-400 text-xs",children:"✓"})}),(0,l.jsx)("span",{className:"text-sm text-slate-200 flex-1 font-medium",children:e.name}),(0,l.jsxs)("span",{className:"text-xs ".concat(g(e.progressPercentage)),children:[Math.round(e.progressPercentage),"%"]})]})]}),t&&c&&(0,l.jsx)("div",{children:e.skills.map(e=>((e,s)=>{let t=p.has(e.id),r=(null==n?void 0:n.id)===e.id&&(null==n?void 0:n.type)==="skill",c=e.microskills&&e.microskills.length>0;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 py-1 px-2 cursor-pointer hover:bg-slate-800/50 transition-colors ".concat(r?"bg-blue-500/20 border-l-2 border-blue-500":""),style:{paddingLeft:"".concat(12*s,"px")},children:[c&&(0,l.jsx)("button",{onClick:s=>{s.stopPropagation();var t=e.id;let l=new Set(p);l.has(t)?l.delete(t):l.add(t),b(l)},className:"text-slate-400 hover:text-blue-400 transition-colors",children:t?"▼":"▶"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-1",onClick:()=>a({...e,type:"skill"}),children:[(0,l.jsx)("div",{className:"w-4 h-4 rounded-full border-2 flex items-center justify-center ".concat(e.completed?"border-green-500 bg-green-500/20":"border-slate-600"),children:e.completed&&(0,l.jsx)("span",{className:"text-green-400 text-xs",children:"✓"})}),(0,l.jsx)("span",{className:"text-sm text-slate-200 flex-1",children:e.name}),(0,l.jsxs)("span",{className:"text-xs ".concat(g(e.progressPercentage)),children:[Math.round(e.progressPercentage),"%"]})]})]}),t&&c&&(0,l.jsx)("div",{children:e.microskills.map(e=>((e,s)=>{let t=(null==n?void 0:n.id)===e.id&&(null==n?void 0:n.type)==="microskill";return(0,l.jsxs)("div",{className:"flex items-center gap-2 py-1 px-2 cursor-pointer hover:bg-slate-800/50 transition-colors ".concat(t?"bg-blue-500/20 border-l-2 border-blue-500":""),style:{paddingLeft:"".concat(12*s,"px")},onClick:()=>a({...e,type:"microskill"}),children:[(0,l.jsx)("div",{className:"w-4 h-4 rounded-full border-2 flex items-center justify-center ".concat(e.completed?"border-green-500 bg-green-500/20":"border-slate-600"),children:e.completed&&(0,l.jsx)("span",{className:"text-green-400 text-xs",children:"✓"})}),(0,l.jsx)("span",{className:"text-xs text-slate-300 flex-1",children:e.name}),(0,l.jsxs)("span",{className:"text-xs ".concat(g(e.progressPercentage)),children:[Math.round(e.progressPercentage),"%"]})]},"microskill-".concat(e.id))})(e,s+1))})]},"skill-".concat(e.id))})(e,s+1))})]},"subcategory-".concat(e.id))})(e,2))})]},"category-".concat(e.id))})(e,1))})]},"domain-".concat(e.id))})(e))}):(0,l.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,l.jsx)("div",{className:"text-slate-400",children:"Loading..."})})})]})}function c(e){var s;let{selectedItem:t}=e;return t?(0,l.jsx)("aside",{className:"w-96 bg-slate-900 border-l border-purple-500/30 overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider mb-2 ".concat((e=>{switch(e){case"domain":return"text-cyan-400";case"category":return"text-purple-400";case"subcategory":return"text-blue-400";case"skill":return"text-green-400";case"microskill":return"text-yellow-400";default:return"text-slate-400"}})(t.type)),children:(e=>{switch(e){case"domain":return"Domain";case"category":return"Category";case"subcategory":return"Subcategory";case"skill":return"Skill";case"microskill":return"Microskill";default:return"Item"}})(t.type)}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-slate-100 mb-3",children:t.name}),t.description&&(0,l.jsx)("p",{className:"text-sm text-slate-400 leading-relaxed",children:t.description})]}),(0,l.jsxs)("div",{className:"mb-6 p-4 bg-slate-800/50 rounded-lg border border-slate-700",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsx)("span",{className:"text-sm text-slate-300 font-medium",children:"Progress"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[t.completed&&(0,l.jsx)("span",{className:"text-green-400 text-sm",children:"✓ Completed"}),(0,l.jsxs)("span",{className:"text-lg font-bold text-slate-100",children:[Math.round(t.progressPercentage),"%"]})]})]}),(0,l.jsx)("div",{className:"w-full h-3 bg-slate-700 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-gradient-to-r ".concat(100===(s=t.progressPercentage)?"from-green-500 to-emerald-500":s>=50?"from-yellow-500 to-orange-500":"from-blue-500 to-purple-500"," transition-all duration-300"),style:{width:"".concat(t.progressPercentage,"%")}})})]}),t.lastAccessed&&(0,l.jsxs)("div",{className:"mb-6 text-xs text-slate-400",children:[(0,l.jsx)("span",{className:"font-medium",children:"Last accessed:"})," ",new Date(t.lastAccessed).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),"domain"===t.type&&t.categories?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("h3",{className:"text-sm font-semibold text-slate-300 mb-2",children:["Categories (",t.categories.length,")"]}),t.categories.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded border border-slate-700",children:[(0,l.jsx)("span",{className:"text-sm text-slate-200",children:e.name}),(0,l.jsxs)("span",{className:"text-xs text-purple-400",children:[Math.round(e.progressPercentage),"%"]})]},e.id))]}):"category"===t.type&&t.subcategories?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("h3",{className:"text-sm font-semibold text-slate-300 mb-2",children:["Subcategories (",t.subcategories.length,")"]}),t.subcategories.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded border border-slate-700",children:[(0,l.jsx)("span",{className:"text-sm text-slate-200",children:e.name}),(0,l.jsxs)("span",{className:"text-xs text-blue-400",children:[Math.round(e.progressPercentage),"%"]})]},e.id))]}):"subcategory"===t.type&&t.skills?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("h3",{className:"text-sm font-semibold text-slate-300 mb-2",children:["Skills (",t.skills.length,")"]}),t.skills.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded border border-slate-700",children:[(0,l.jsx)("span",{className:"text-sm text-slate-200",children:e.name}),(0,l.jsxs)("span",{className:"text-xs text-green-400",children:[Math.round(e.progressPercentage),"%"]})]},e.id))]}):"skill"===t.type&&t.microskills?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("h3",{className:"text-sm font-semibold text-slate-300 mb-2",children:["Microskills (",t.microskills.length,")"]}),t.microskills.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded border border-slate-700",children:[(0,l.jsx)("span",{className:"text-sm text-slate-200",children:e.name}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[e.completed&&(0,l.jsx)("span",{className:"text-green-400 text-xs",children:"✓"}),(0,l.jsxs)("span",{className:"text-xs text-yellow-400",children:[Math.round(e.progressPercentage),"%"]})]})]},e.id))]}):null,(0,l.jsx)("div",{className:"mt-6 pt-6 border-t border-slate-700",children:(0,l.jsx)("button",{className:"w-full px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 rounded-lg text-sm font-medium text-blue-400 hover:text-blue-300 transition-all",children:"Mark as Complete"})})]})}):(0,l.jsx)("aside",{className:"w-80 bg-slate-900 border-l border-purple-500/30 p-6 overflow-y-auto",children:(0,l.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center text-slate-400",children:[(0,l.jsx)("p",{className:"text-sm",children:"Select an item"}),(0,l.jsx)("p",{className:"text-xs mt-2",children:"to view progress details"})]})})})}function i(){let[e,s]=(0,r.useState)(null),[t,i]=(0,r.useState)(!1);return(0,l.jsxs)("div",{className:"min-h-screen bg-slate-950 flex flex-col",children:[(0,l.jsx)(a,{}),(0,l.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,l.jsx)(n,{collapsed:t,onToggleCollapse:()=>i(!t),onSelectItem:s,selectedItem:e}),(0,l.jsx)("main",{className:"flex-1 p-6 overflow-auto",children:(0,l.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-slate-200 mb-4",children:"Graph Visualization"}),(0,l.jsx)("p",{className:"text-slate-400",children:"Coming soon..."})]})})}),(0,l.jsx)(c,{selectedItem:e})]})]})}},9932:(e,s,t)=>{Promise.resolve().then(t.bind(t,9129))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9932)),_N_E=e.O()}]);